---
to: libs/<%=contextFileName%>/<%=eventStreamFileName%>/src/lib/<%=eventStreamFileName%>.ts
inject: true
after_marker: //start <%=ContextName%>.<%=TimeLineName%>.<%=CommandName%>+
before: //end <%=ContextName%>.<%=TimeLineName%>.<%=CommandName%>+
after_not_found: when
---
//start <%=ContextName%>.<%=TimeLineName%>.<%=CommandName%>+
  public <%=commandName%>(<% if (isStartOfEventStream) {%><%=eventStreamIdentifier%>: string,<%}%> command: <%=ContextName%>.<%=TimeLineName%>.<%=CommandName%><%if (serviceName) {-%>, <%= serviceParameterType%><%}%> ) {
<%if (serviceName) {-%>    const <%=serviceResultName%> = <%=serviceCallingCode%><%}-%>
    this.apply(<%=TimeLineName%><%= h.changeCase.pascalCase(events[0].name)%>, { ...command %><% if (isStartOfEventStream) {%>,<%=eventStreamIdentifier%><%}%> });
  }
//end <%=ContextName%>.<%=TimeLineName%>.<%=CommandName%>+
